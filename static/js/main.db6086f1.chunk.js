(this["webpackJsonpjobby-app"]=this["webpackJsonpjobby-app"]||[]).push([[0],{46:function(e,t,s){},47:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(15),i=s.n(n),l=s(5),o=s(3),r=s(6),j=s.n(r),b=s(0);var d=()=>{const[e,t]=Object(a.useState)(""),[s,c]=Object(a.useState)(""),[n,i]=Object(a.useState)(""),[l,r]=Object(a.useState)(!1),d=Object(o.g)(),m=e=>{r(!0),i(e)};return void 0!==j.a.get("jwt_token")?Object(b.jsx)(o.a,{to:"/"}):Object(b.jsx)("div",{className:"login-container",children:Object(b.jsxs)("form",{className:"form-container",onSubmit:async t=>{t.preventDefault();const a={username:e,password:s},c={method:"POST",body:JSON.stringify(a)};try{const e=await fetch("https://apis.ccbp.in/login",c),t=await e.json();e.ok?(e=>{j.a.set("jwt_token",e,{expires:30}),d.replace("/")})(t.jwt_token):m(t.error_msg)}catch(n){m("Something went wrong. Please try again.")}},children:[Object(b.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/logo-img.png",alt:"website logo",className:"login-website-logo"}),Object(b.jsxs)("div",{className:"input-container",children:[Object(b.jsx)("label",{className:"input-label",htmlFor:"username",children:"USERNAME"}),Object(b.jsx)("input",{type:"text",id:"username",className:"username-input-field",value:e,onChange:e=>t(e.target.value),placeholder:"Username"})]}),Object(b.jsxs)("div",{className:"input-container",children:[Object(b.jsx)("label",{className:"input-label",htmlFor:"password",children:"PASSWORD"}),Object(b.jsx)("input",{type:"password",id:"password",className:"password-input-field",value:s,onChange:e=>c(e.target.value),placeholder:"Password"})]}),Object(b.jsx)("button",{type:"submit",className:"login-button",children:"Login"}),l&&Object(b.jsxs)("p",{className:"error-message",children:["*",n]})]})})};var m=Object(o.h)((e=>Object(b.jsx)("nav",{className:"nav-header",children:Object(b.jsxs)("div",{className:"nav-content",children:[Object(b.jsx)(l.b,{to:"/",children:Object(b.jsx)("img",{className:"website-logo",src:"https://assets.ccbp.in/frontend/react-js/logo-img.png",alt:"website logo"})}),Object(b.jsxs)("ul",{className:"nav-menu",children:[Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/",className:"nav-link",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/jobs",className:"nav-link",children:"Jobs"})})]}),Object(b.jsx)("button",{type:"button",className:"logout-desktop-btn",onClick:()=>{const{history:t}=e;j.a.remove("jwt_token"),t.replace("/login")},children:"Logout"})]})})));var p=()=>void 0===j.a.get("jwt_token")?Object(b.jsx)(o.a,{to:"/login"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{}),Object(b.jsx)("div",{className:"home-container",children:Object(b.jsxs)("div",{className:"home-content",children:[Object(b.jsx)("h1",{className:"home-heading",children:"Find The Job That Fits Your Life"}),Object(b.jsx)("p",{className:"home-description",children:"Millions of people are searching for jobs, salary information, company reviews. Find the job that fits your abilities and potential."}),Object(b.jsx)(l.b,{to:"/jobs",children:Object(b.jsx)("button",{className:"find-jobs-button",type:"button",children:"Find Jobs"})})]})})]}),h=s(17),O=s.n(h);var x=()=>Object(b.jsx)("div",{className:"loader-container","data-testid":"loader",children:Object(b.jsx)(O.a,{type:"ThreeDots",color:"#0b69ff",height:"50",width:"50"})});const g=[{label:"Full Time",employmentTypeId:"FULLTIME"},{label:"Part Time",employmentTypeId:"PARTTIME"},{label:"Freelance",employmentTypeId:"FREELANCE"},{label:"Internship",employmentTypeId:"INTERNSHIP"}],u=[{salaryRangeId:"1000000",label:"10 LPA and above"},{salaryRangeId:"2000000",label:"20 LPA and above"},{salaryRangeId:"3000000",label:"30 LPA and above"},{salaryRangeId:"4000000",label:"40 LPA and above"}],y="INITIAL",N="SUCCESS",f="FAILURE",v="IN_PROGRESS";var _=()=>{const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)(y),[n,i]=Object(a.useState)({}),[o,r]=Object(a.useState)(y),[d,p]=Object(a.useState)(""),[h,O]=Object(a.useState)([]),[_,k]=Object(a.useState)(""),w=Object(a.useCallback)((async()=>{c(v);const e=j.a.get("jwt_token"),s=`https://apis.ccbp.in/jobs?employment_type=${h.join()}&minimum_package=${_}&search=${d}`,a={headers:{Authorization:`Bearer ${e}`},method:"GET"};try{const e=await fetch(s,a),n=await e.json();if(e.ok){const e=n.jobs.map((e=>({companyLogoUrl:e.company_logo_url,employmentType:e.employment_type,id:e.id,jobDescription:e.job_description,location:e.location,packagePerAnnum:e.package_per_annum,rating:e.rating,title:e.title})));t(e),c(N)}else c(f)}catch(n){c(f)}}),[h,_,d]),S=async()=>{r(v);const e={headers:{Authorization:`Bearer ${j.a.get("jwt_token")}`},method:"GET"};try{const t=await fetch("https://apis.ccbp.in/profile",e),s=await t.json();if(t.ok){const e={name:s.profile_details.name,profileImageUrl:s.profile_details.profile_image_url,shortBio:s.profile_details.short_bio};i(e),r(N)}else r(f)}catch(t){r(f)}};Object(a.useEffect)((()=>{S(),w()}),[w]);const I=e=>{p(e.target.value)},T=e=>{"Enter"===e.key&&w()},R=()=>{w()},E=()=>0===e.length?Object(b.jsxs)("div",{className:"no-jobs-view",children:[Object(b.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/no-jobs-img.png",className:"no-jobs-img",alt:"no jobs"}),Object(b.jsx)("h1",{children:"No Jobs Found"}),Object(b.jsx)("p",{children:"We could not find any jobs. Try other filters."})]}):Object(b.jsx)("ul",{className:"jobs-list",children:e.map((e=>Object(b.jsx)("li",{className:"job-item",children:Object(b.jsxs)(l.b,{to:`/jobs/${e.id}`,className:"link-item",children:[Object(b.jsxs)("div",{className:"company-container",children:[Object(b.jsx)("img",{src:e.companyLogoUrl,alt:"company logo",className:"company-logo"}),Object(b.jsxs)("div",{className:"title-rating-container",children:[Object(b.jsx)("h1",{children:e.title}),Object(b.jsxs)("p",{children:["Rating: ",e.rating]})]})]}),Object(b.jsxs)("div",{className:"location-package-container",children:[Object(b.jsxs)("div",{className:"location-employment-container",children:[Object(b.jsxs)("p",{children:["Location: ",e.location]}),Object(b.jsxs)("p",{children:["Employment Type: ",e.employmentType]})]}),Object(b.jsx)("p",{children:e.packagePerAnnum})]}),Object(b.jsx)("hr",{className:"line"}),Object(b.jsx)("h1",{children:"Description"}),Object(b.jsx)("p",{children:e.jobDescription})]})},e.id)))}),L=e=>{const{checked:t,value:s}=e.target;O(t?e=>[...e,s]:e=>e.filter((e=>e!==s)))},A=e=>{k(e.target.value)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{}),Object(b.jsx)("div",{className:"jobs-container",children:Object(b.jsxs)("div",{className:"jobs-content",children:[Object(b.jsxs)("div",{className:"search-filters-container",children:[Object(b.jsxs)("div",{className:"search-input-container",children:[Object(b.jsx)("input",{type:"search",className:"search-input",placeholder:"Search",value:d,onChange:I,onKeyDown:T}),Object(b.jsx)("button",{type:"button","data-testid":"searchButton",className:"search-button",onClick:R,children:"Search"})]}),(()=>{switch(o){case N:return Object(b.jsxs)("div",{className:"profile-container",children:[Object(b.jsx)("img",{src:n.profileImageUrl,alt:"profile",className:"profile-img"}),Object(b.jsx)("h1",{className:"profile-name",children:n.name}),Object(b.jsx)("p",{className:"profile-description",children:n.shortBio})]});case f:return Object(b.jsx)("div",{className:"profile-error-view-container",children:Object(b.jsx)("button",{type:"button",className:"profile-failure-button",onClick:S,children:"Retry"})});case v:return Object(b.jsx)("div",{className:"profile-loader-container","data-testid":"loader",children:Object(b.jsx)(x,{})});default:return null}})(),Object(b.jsx)("hr",{className:"line"}),Object(b.jsx)("h1",{className:"filter-heading",children:"Type of Employment"}),Object(b.jsx)("ul",{className:"employment-types-list",children:g.map((e=>Object(b.jsxs)("li",{className:"employment-item",children:[Object(b.jsx)("input",{type:"checkbox",id:e.employmentTypeId,className:"checkbox",value:e.employmentTypeId,onChange:L}),Object(b.jsx)("label",{className:"label",htmlFor:e.employmentTypeId,children:e.label})]},e.employmentTypeId)))}),Object(b.jsx)("hr",{className:"line"}),Object(b.jsx)("h1",{className:"filter-heading",children:"Salary Range"}),Object(b.jsx)("ul",{className:"salary-ranges-list",children:u.map((e=>Object(b.jsxs)("li",{className:"salary-item",children:[Object(b.jsx)("input",{type:"radio",id:e.salaryRangeId,className:"radio",name:"salary",value:e.salaryRangeId,onChange:A}),Object(b.jsx)("label",{className:"label",htmlFor:e.salaryRangeId,children:e.label})]},e.salaryRangeId)))})]}),Object(b.jsx)("div",{className:"jobs-list-container",children:(()=>{switch(s){case N:return E();case f:return Object(b.jsxs)("div",{className:"jobs-error-view-container",children:[Object(b.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/failure-img.png",alt:"failure view",className:"jobs-failure-img"}),Object(b.jsx)("h1",{children:"Oops! Something Went Wrong"}),Object(b.jsx)("p",{children:"We cannot seem to find the page you are looking for."}),Object(b.jsx)("button",{type:"button",className:"jobs-failure-button",onClick:w,children:"Retry"})]});case v:return Object(b.jsx)("div",{className:"loader-container","data-testid":"loader",children:Object(b.jsx)(x,{})});default:return null}})()})]})})]})};const k="INITIAL",w="SUCCESS",S="FAILURE",I="IN_PROGRESS";var T=e=>{const[t,s]=Object(a.useState)({}),[c,n]=Object(a.useState)([]),[i,l]=Object(a.useState)(k),r=Object(a.useCallback)((async()=>{const{match:t}=e,{params:a}=t,{id:c}=a;l(I);const i=`https://apis.ccbp.in/jobs/${c}`,o={headers:{Authorization:`Bearer ${j.a.get("jwt_token")}`},method:"GET"};try{const e=await fetch(i,o),t=await e.json();if(e.ok){const e={companyLogoUrl:t.job_details.company_logo_url,companyWebsiteUrl:t.job_details.company_website_url,employmentType:t.job_details.employment_type,id:t.job_details.id,jobDescription:t.job_details.job_description,lifeAtCompany:{description:t.job_details.life_at_company.description,imageUrl:t.job_details.life_at_company.image_url},location:t.job_details.location,packagePerAnnum:t.job_details.package_per_annum,rating:t.job_details.rating,skills:t.job_details.skills.map((e=>({imageUrl:e.image_url,name:e.name}))),title:t.job_details.title},a=t.similar_jobs.map((e=>({companyLogoUrl:e.company_logo_url,employmentType:e.employment_type,id:e.id,jobDescription:e.job_description,location:e.location,rating:e.rating,title:e.title})));s(e),n(a),l(w)}else l(S)}catch(r){l(S)}}),[e]);Object(a.useEffect)((()=>{r()}),[r]);return void 0===j.a.get("jwt_token")?Object(b.jsx)(o.a,{to:"/login"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{}),Object(b.jsx)("div",{className:"job-details-container",children:(()=>{switch(i){case w:return(()=>{const{companyLogoUrl:e,companyWebsiteUrl:s,employmentType:a,jobDescription:n,lifeAtCompany:i,location:l,packagePerAnnum:o,rating:r,skills:j,title:d}=t;return Object(b.jsxs)("div",{className:"job-details-success-container",children:[Object(b.jsxs)("div",{className:"job-details-container",children:[Object(b.jsxs)("div",{className:"company-container",children:[Object(b.jsx)("img",{src:e,alt:"job details company logo",className:"company-logo"}),Object(b.jsxs)("div",{className:"title-rating-container",children:[Object(b.jsx)("h1",{children:d}),Object(b.jsxs)("p",{children:["Rating: ",r]})]})]}),Object(b.jsxs)("div",{className:"location-package-container",children:[Object(b.jsxs)("div",{className:"location-employment-container",children:[Object(b.jsxs)("p",{children:["Location: ",l]}),Object(b.jsxs)("p",{children:["Employment Type: ",a]})]}),Object(b.jsx)("p",{children:o})]}),Object(b.jsx)("hr",{className:"line"}),Object(b.jsxs)("div",{className:"description-container",children:[Object(b.jsxs)("div",{className:"description-visit-container",children:[Object(b.jsx)("h1",{children:"Description"}),Object(b.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:"Visit"})]}),Object(b.jsx)("p",{children:n})]}),Object(b.jsx)("h1",{children:"Skills"}),Object(b.jsx)("ul",{className:"skills-list",children:j.map((e=>Object(b.jsxs)("li",{className:"skill-item",children:[Object(b.jsx)("img",{src:e.imageUrl,alt:e.name,className:"skill-image"}),Object(b.jsx)("p",{children:e.name})]},e.name)))}),Object(b.jsxs)("div",{className:"life-at-company-container",children:[Object(b.jsxs)("div",{className:"life-at-company-description",children:[Object(b.jsx)("h1",{children:"Life at Company"}),Object(b.jsx)("p",{children:i.description})]}),Object(b.jsx)("img",{src:i.imageUrl,alt:"life at company",className:"life-at-company-image"})]})]}),Object(b.jsx)("h1",{children:"Similar Jobs"}),Object(b.jsx)("ul",{className:"similar-jobs-list",children:c.map((e=>Object(b.jsxs)("li",{className:"similar-job-item",children:[Object(b.jsxs)("div",{className:"company-container",children:[Object(b.jsx)("img",{src:e.companyLogoUrl,alt:"similar job company logo",className:"company-logo"}),Object(b.jsxs)("div",{className:"title-rating-container",children:[Object(b.jsx)("h1",{children:e.title}),Object(b.jsxs)("p",{children:["Rating: ",e.rating]})]})]}),Object(b.jsx)("h1",{children:"Description"}),Object(b.jsx)("p",{children:e.jobDescription}),Object(b.jsxs)("div",{className:"location-employment-container",children:[Object(b.jsxs)("p",{children:["Location: ",e.location]}),Object(b.jsxs)("p",{children:["Employment Type: ",e.employmentType]})]})]},e.id)))})]})})();case S:return Object(b.jsxs)("div",{className:"job-details-failure-view-container",children:[Object(b.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/failure-img.png",alt:"failure view",className:"failure-view-image"}),Object(b.jsx)("h1",{children:"Oops! Something Went Wrong"}),Object(b.jsx)("p",{children:"We cannot seem to find the page you are looking for."}),Object(b.jsx)("button",{type:"button",className:"retry-button",onClick:r,children:"Retry"})]});case I:return Object(b.jsx)("div",{className:"loader-container","data-testid":"loader",children:Object(b.jsx)(x,{})});default:return null}})()})]})};var R=()=>Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{}),Object(b.jsxs)("div",{className:"not-found-container",children:[Object(b.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/jobby-app-not-found-img.png",alt:"not found",className:"not-found-img"}),Object(b.jsx)("h1",{className:"not-found-heading",children:"Page Not Found"}),Object(b.jsx)("p",{className:"not-found-description",children:"We're sorry, the page you requested could not be found."}),Object(b.jsx)(l.b,{to:"/",children:Object(b.jsx)("button",{type:"button",className:"home-button",children:"Go Back to Home"})})]})]});var E=e=>void 0===j.a.get("jwt_token")?Object(b.jsx)(o.a,{to:"/login"}):Object(b.jsx)(o.b,{...e});s(46);var L=()=>Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{exact:!0,path:"/login",component:d}),Object(b.jsx)(E,{exact:!0,path:"/",component:p}),Object(b.jsx)(E,{exact:!0,path:"/jobs",component:_}),Object(b.jsx)(E,{exact:!0,path:"/jobs/:id",component:T}),Object(b.jsx)(o.b,{path:"/not-found",component:R}),Object(b.jsx)(o.a,{to:"/not-found"})]});i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(l.a,{children:Object(b.jsx)(L,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.db6086f1.chunk.js.map